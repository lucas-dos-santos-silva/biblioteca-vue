import{D as N,K as k,M as V,N as m,O as E,I as C,c as p,a as s,t as v,q as r,k as P,x as c,P as S,G as b,L as w,o as h}from"./index-COFjd3bI.js";const B={class:"p-4 max-w-4xl mx-auto w-full"},D={class:"text-2xl font-bold mb-6"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},M={class:"col-span-1"},O=s("label",{for:"name",class:"block mb-2 text-sm font-medium"},[w("Nome "),s("span",{class:"sr-only"},"(Campo obrigatório)")],-1),R={key:0,class:"text-red-600 text-sm mt-1"},T={class:"col-span-1 md:col-span-2 flex gap-4 mt-4"},F={__name:"PublishersForm",setup(j){const _=k(),o=C(),t=N(),l=_.params.id,u=V(),i=l==="novo",e=m({name:""}),a=m({});E(()=>{if(!i){const n=t.getPublisher(l);if(!n){o.push({name:"publishers.index"});return}e.value={name:n.name}}});const f=()=>(a.value={},(!e.value.name||!e.value.name.trim())&&(a.value.name="Nome é obrigatório"),Object.keys(a.value).length===0),x=()=>{f()&&(i?(t.addPublisher({name:e.value.name}),u.add({severity:"success",summary:"Sucesso",detail:"Editora criada com sucesso!",life:3e3})):(t.updatePublisher(l,{name:e.value.name}),u.add({severity:"success",summary:"Sucesso",detail:"Editora editada com sucesso!",life:3e3})),o.push({name:"publishers.index"}))},g=()=>o.push({name:"publishers.index"});return(n,d)=>(h(),p("div",B,[s("h1",D,v(i?"Nova Editora":"Editar Editora"),1),s("div",L,[s("div",M,[O,r(c(S),{id:"name",modelValue:e.value.name,"onUpdate:modelValue":d[0]||(d[0]=y=>e.value.name=y),placeholder:"Digite o nome da editora",class:"w-full","aria-label":"Nome da editora"},null,8,["modelValue"]),a.value.name?(h(),p("div",R,v(a.value.name),1)):P("",!0)]),s("div",T,[r(c(b),{label:"Salvar",icon:"pi pi-check",severity:"success",onClick:x}),r(c(b),{label:"Cancelar",icon:"pi pi-times",class:"p-button-secondary",onClick:g})])])]))}};export{F as default};
